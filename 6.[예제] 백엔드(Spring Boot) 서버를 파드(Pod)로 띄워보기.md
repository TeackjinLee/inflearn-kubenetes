# [예제] 백엔드(Spring Boot) 서버를 파드(Pod)로 띄워보기

### ✅ 백엔드(Spring Boot) 서버를 파드(Pod)로 띄워보기

1. **Spring Boot 프로젝트 셋팅**
    
    [start.spring.io](https://start.spring.io/)
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/e35a8144-c5ff-40f0-b123-384a331e35bb/04dc24a8-b538-4491-8a99-f5d2de5c081a/image.png)
    
2. **간단한 코드 작성**
    
    **AppController**
    
    ```java
    @RestController
    public class AppController {
      @GetMapping("/")
      public String home() {
        return "Hello, World!";
      }
    }
    ```
    
3. **프로젝트 실행시켜보기**
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/e35a8144-c5ff-40f0-b123-384a331e35bb/efe0653e-cde6-43c1-beb2-273f67c27a98/image.png)
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/e35a8144-c5ff-40f0-b123-384a331e35bb/26c2b4ee-aa17-40b1-a9de-56b3dd30bdd4/image.png)
    
4. **Dockerfile 작성하기**
    
    **Dockerfile**
    
    ```docker
    FROM openjdk:17-jdk
    
    COPY build/libs/*SNAPSHOT.jar app.jar
    
    ENTRYPOINT ["java", "-jar", "/app.jar"]
    ```
    
5. **Spring Boot 프로젝트 빌드하기**
    
    ```bash
    $ ./gradlew clean build
    ```
    
6. **Dockerfile을 바탕으로 이미지 빌드하기**
    
    ```bash
    $ docker build -t spring-server .
    ```
    
7. **이미지가 잘 생성됐는 지 확인하기**
    
    ```bash
    $ docker image ls
    ```
    
8. **매니페스트 파일 작성하기**
    
    **spring-pod.yaml**
    
    ```bash
    apiVersion: v1
    kind: Pod
    metadata:
      name: spring-pod
    spec:
      containers:
        - name: spring-container
          image: spring-server
          ports:
            - containerPort: 8080
    ```
    
9. **매니페스트 파일을 기반으로 파드(Pod) 생성하기**
    
    ```yaml
    $ kubectl apply -f spring-pod.yaml 
    ```
    
10. **파드(Pod)가 잘 생성됐는 지 확인**
    
    ```yaml
    $ kubectl get pods
    ```
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/e35a8144-c5ff-40f0-b123-384a331e35bb/ca145a29-0902-4470-9cf0-81b8cb71edd0/image.png)
    
    `STATUS`를 보면 `ImagePullBackOff`라고 떠있다. 이미지를 Pull 받아오는 과정 중에 문제가 생긴 것이다. `$ docker image ls` 명령어를 입력해서 이미지를 확인해봤더니 `spring-server` 이미지가 정상적으로 있다. 그런데 왜 `ImagePullBackOff`라는 에러가 떴을까?
