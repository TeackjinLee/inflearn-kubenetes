# [예제] 프론트엔드(Next.js) 서버를 파드(Pod)로 띄워보기

### ✅ 프론트엔드(Next.js) 서버를 파드(Pod)로 띄워보기

1. **Next.js 프로젝트 만들기**
    
    ```bash
    $ npx create-next-app
    ```
    

1. **프로젝트 실행시켜보기**
    
    ```bash
    $ npm run dev
    ```
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/e35a8144-c5ff-40f0-b123-384a331e35bb/9d4fb02b-55fd-44b2-90a2-8b7170af5fb9/image.png)
    
2. **Dockerfile 작성하기**
    
    **Dockerfile**
    
    ```docker
    FROM node:20-alpine
    
    WORKDIR /app
    
    COPY . .
    
    RUN npm install
    
    RUN npm run build
    
    EXPOSE 3000
    
    ENTRYPOINT [ "npm", "run", "start" ]
    ```
    
3. **.dockerignore 작성하기**
    
    **.dockerignore**
    
    ```jsx
    node_modules
    ```
    
4. **Dockerfile을 바탕으로 이미지 빌드하기**
    
    ```bash
    $ docker build -t next-server .
    ```
    
5. **이미지가 잘 생성됐는 지 확인하기**
    
    ```bash
    $ docker image ls
    ```
    
6. **매니페스트 파일 작성하기**
    
    **next-pod.yaml**
    
    ```bash
    apiVersion: v1
    kind: Pod
    metadata:
      name: next-pod
    spec:
      containers:
        - name: next-container
          image: next-server
          imagePullPolicy: IfNotPresent
          ports:
            - containerPort: 3000
    ```
    
7. **매니페스트 파일을 기반으로 파드(Pod) 생성하기**
    
    ```yaml
    $ kubectl apply -f next-pod.yaml 
    ```
    
8. **파드(Pod)가 잘 생성됐는 지 확인**
    
    ```yaml
    $ kubectl get pods
    ```
    
9. **포트 포워딩으로 Nest.js 서버가 실행됐는 지 확인**
    
    ```bash
    $ kubectl port-forward next-pod 3000:3000
    ```
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/e35a8144-c5ff-40f0-b123-384a331e35bb/9d4fb02b-55fd-44b2-90a2-8b7170af5fb9/image.png)
    
10. 파드 삭제하기
  ```bash
  $ kubectl delete pod next-pod
  ```
